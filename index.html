<html>
	<head>
		<title>Lucas Monnin</title>
		<link rel="stylesheet" type="text/css" href="./style.css">
		<link rel="shortcut icon" type="image/png" href="./favicon.png"/>
	</head>
	<body>
		<script id="fragShader" type="x-shader/x-fragment">
			attribute vec2 rAxis;

			uniform sampler2D gradientTex;
			uniform sampler2D accTex;
			uniform float theta;

			const float nSizef = float(NOISE_SIZE);
			const vec2 texelDim = vec2(1.0 / nSizef);

			vec2 noiseGradient(vec2 coord) {
				float cosTheta = cos(theta);
				float sinTheta = sin(theta);
				mat2 rMat = mat2(cosTheta, sinTheta, -sinTheta, cosTheta);
				return rMat * texture2D(gradientTex, coord).rg;
			}

			float dotGridGradient(vec2 noisePos, vec2 p) {
			  vec2 dVector = p - noisePos;
			  return dot(dVector, noiseGradient(noisePos));
			}

			float perlin(vec2 pos) {
				vec2 pos0 = floor(pos * nSizef) / nSizef;
				vec2 pos1 = pos0 + texelDim;
			
				vec2 d = pos - pos0;
				float n00 = dotGridGradient(pos0, pos);
				float n01 = dotGridGradient(vec2(pos1.x, pos0.y), pos);
				float n10 = dotGridGradient(vec2(pos0.x, pos1.y), pos);
				float n11 = dotGridGradient(pos1, pos);

				float ix0 = mix(n01, n00, d.x);
				float ix1 = mix(n11, n10, d.x);
				return mix(ix1, ix0, d.y);
			}
		</script>
		<script id="vertShader" type="x-shader/x-vertex">
			transformed.z = (perlin(uv) - 0.5) * 10.0;
		</script>
		<script src="./three.min.js"></script>
		<script src="./index.js"></script>
		<!--
		<div class="container">
			<h1>About me</h1>
			<p>Lorem ipsum dolor sit amet...</p>
		</div>
	-->
	</body>
</html>
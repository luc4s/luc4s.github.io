(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7418:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,6874,23)),Promise.resolve().then(n.t.bind(n,3063,23)),Promise.resolve().then(n.bind(n,9195))},9195:(e,t,n)=>{"use strict";n.d(t,{default:()=>u});var r=n(5155),a=n(3264),o=n(7431),i=n(2115),l=n(4426),s=n(5037),d=n(8618),w=n(8446),f=n(7067),c=n.n(f),p=n(9311);function h(e,t){let n=new a.Q1f(1064);e.background=function(e,t,n){let r=new Uint8Array(0x1000000);for(let e=0;e<4194304;e++){let a=4*e,o=Math.pow(e/2048/2047,.1),i=t.clone().lerp(n,o);r[a]=255*i.r,r[a+1]=255*i.g,r[a+2]=255*i.b,r[a+3]=255*o}let o=(e,t)=>{let n=(2048*t+e)*4,a=Math.floor(255*(.5+.5*Math.random()));r[n]=a,r[n+1]=a,r[n+2]=a,r[n+3]=255},i=Math.floor(2e3*Math.random())+1e3;for(let e=0;e<i;e++){let e=Math.floor(2048*Math.random()),t=Math.floor(2048*Math.random());if(o(e,t),.1>Math.random())for(let n=-1;n<=1;++n)for(let r=-1;r<=1;++r){let a=e+n,i=t+r;!(n*n+r*r>1)&&a>=0&&a<2048&&i>=0&&i<2048&&o(a,i)}}let l=new a.GYF(r,2048,2048);l.wrapS=a.GJx,l.wrapT=a.GJx;let s=1/e;return l.offset.x=s>1?(1-1/s)/2:0,l.repeat.x=s>1?1/s:1,l.offset.y=s>1?0:(1-s)/2,l.repeat.y=s>1?1:s,l.needsUpdate=!0,l}(t,new a.Q1f(0xff1f5a),n)}function u(){let e=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(!e.current)return;let t=new a.Z58,n=new a.ubm(90,window.innerWidth/window.innerHeight,.1,1e3);n.position.y=5,n.position.z=1;let r=new o.JeP({antialias:!1});r.setPixelRatio(window.devicePixelRatio),r.setSize(window.innerWidth,window.innerHeight),e.current.appendChild(r.domElement);let i=new w.A(t,n),f=new s.C(new a.I9Y(window.innerWidth,window.innerHeight),1.5,.4,.85);f.threshold=.01,f.strength=.5,f.radius=.2;let u=new d.X,m=new l.s(r);m.addPass(i),m.addPass(f),m.addPass(u);let M=null,x=null,g=null;h(t,n.aspect),(function(e){let t,n={gridTex:null,carMixer:null,carObject:null},r=new Promise(e=>{t=e});{let t=new a.bdM(112,2),n=new a.V9B({color:0,depthTest:!0,depthWrite:!0,colorWrite:!1});for(let r=0;r<12;r++){let o=new a.eaF(t,n);o.position.set(0,45-r*(6+-.1*r),-99),o.renderOrder=-2,e.add(o)}let r=new a.tcD(1,64),o=new a.V9B({color:0xffffff,depthWrite:!1,depthTest:!0,depthFunc:a.brA,transparent:!0,map:function(e,t){let n=new Uint8Array(1024);for(let r=0;r<256;r++){let a=4*r,o=r/1/255,i=e.clone().lerp(t,o);n[a]=255*i.r,n[a+1]=255*i.g,n[a+2]=255*i.b,n[a+3]=255*o}let r=new a.GYF(n,1,256);return r.type=a.OUM,r.format=a.GWd,r.wrapS=a.GJx,r.wrapT=a.ghU,r.needsUpdate=!0,r}(new a.Q1f(0xff1f5a),new a.Q1f(0xffa500))}),i=new a.eaF(r,o);i.scale.setScalar(56),i.position.set(0,32,-101),i.renderOrder=-1,e.add(i)}{let t=function(e,t){let n=Math.pow(2,Math.ceil(Math.log2(256))),r=new Uint8Array(n*n*4);for(let e=0;e<n;e++)for(let a=0;a<n;a++){let o=(e*n+a)*4;0==e||0==a||e==n-1||a==n-1?(r[o]=255,r[o+1]=0,r[o+2]=t>>8&255,r[o+3]=255&t):(r[o]=0,r[o+1]=0,r[o+2]=0,r[o+3]=255)}let i=new o.JeP({antialias:!1}),l=new a.GYF(r,n,n);return l.type=a.OUM,l.format=a.GWd,l.minFilter=a.$_I,l.magFilter=a.k6q,l.anisotropy=i.capabilities.getMaxAnisotropy(),l.wrapS=a.GJx,l.wrapT=a.GJx,l.generateMipmaps=!0,l.repeat.setScalar(128),l.needsUpdate=!0,l}(256,0xff00ffff),r=new a.bdM(1,1),i=new a._4j({color:0xffffff,map:t,roughness:.5,metalness:.6}),l=new a.eaF(r,i);l.scale.set(256,256,1),l.rotation.x=-Math.PI/2,l.position.set(0,0,0),l.renderOrder=0,e.add(l),n.gridTex=t}{let t=function(){let e=new(c()).Noise(Math.random()),t=new a.bdM(256,64,50,12.5),n=t.attributes.position.array;for(let t=0;t<n.length;t+=3){let r=n[t],a=n[t+1],o=12*(1+e.simplex2(r/24,a/24));o*=Math.min(Math.min(Math.abs(r+128),Math.abs(r-128),Math.abs(a+32),Math.abs(a-32))/32,1),n[t+2]=o}t.attributes.position.needsUpdate=!0,t.computeVertexNormals();let r=new a.V9B({color:0,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1}),o=new a.eaF(t,r),i=new a.XJ7(t),l=new a.DXC(i);l.material.color.set(2454780);let s=new a.YJl;return s.add(o),s.add(l),s}();t.position.set(0,.1,-75),t.rotation.x=-Math.PI/2,t.renderOrder=1,e.add(t)}(function(){let e=new p.B;return new Promise((t,n)=>{e.load("models/testarossa.glb",e=>{t(e)},function(){},function(e){n(e)})})})().then(r=>{let o=r.scene;o.scale.setScalar(1.5),o.position.set(10,0,-10),o.rotation.y=Math.PI,e.add(o);let i=new a.Iw4(o);r.animations.forEach(e=>{let t=i.clipAction(e);t.timeScale=8,t.play()}),n.carObject=o,n.carMixer=i,t(n)}).catch(e=>{console.error("Error loading car model:",e)});let i=new a.$p8(0xffffff,1);return e.add(i),r})(t).then(e=>{M=e.gridTex,x=e.carMixer,g=e.carObject});let b=new a.zD7,y=new a.Pq0(0,0,0);r.setAnimationLoop(()=>{let e=b.getDelta();M&&(M.offset.y+=e,M.needsUpdate=!0),x&&x.update(e),g&&g.position.add(y.clone().multiplyScalar(e)),m.render()});let P=()=>{n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),r.setSize(window.innerWidth,window.innerHeight),m.setSize(window.innerWidth,window.innerHeight),h(t,n.aspect)};return window.addEventListener("resize",P),window.addEventListener("keydown",e=>{switch(e.key){case"ArrowLeft":case"a":y.x=-2;break;case"ArrowRight":case"d":y.x=2}return!0}),window.addEventListener("keyup",e=>{switch(e.key){case"ArrowLeft":case"ArrowRight":case"a":case"d":y.set(0,0,0)}return!0}),()=>{var t;window.removeEventListener("resize",P),null==(t=e.current)||t.removeChild(r.domElement),r.dispose()}},[]),(0,r.jsx)("div",{ref:e,className:"background_three"})}}},e=>{var t=t=>e(e.s=t);e.O(0,[367,831,77,441,684,358],()=>t(7418)),_N_E=e.O()}]);